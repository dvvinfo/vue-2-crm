"use strict";(self["webpackChunkvue_2_crm"]=self["webpackChunkvue_2_crm"]||[]).push([[952],{2952:function(t,e,s){s.r(e),s.d(e,{default:function(){return w}});var r=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"page-title"},[e("h3",[t._v(t._s(t._f("localize")("Menu_Bill")))]),e("button",{staticClass:"btn waves-effect waves-light btn-small",on:{click:t.refresh}},[e("i",{staticClass:"material-icons"},[t._v("refresh")])])]),t.loading?e("loader-component"):e("div",{staticClass:"row"},[e("home-bill-component",{attrs:{rates:t.currency.rates}}),e("home-currency-component",{attrs:{rates:t.currency.rates,date:t.currency.date}})],1)],1)},a=[],n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"col s12 m6 l4"},[e("div",{staticClass:"card light-blue bill-card"},[e("div",{staticClass:"card-content white-text"},[e("span",{staticClass:"card-title"},[t._v(" "+t._s(t._f("localize")("Currency_account"))+" ")]),t._l(t.currencies,(function(s){return e("p",{key:s,staticClass:"currency-line"},[e("span",[t._v(" "+t._s(t._f("currency")(t.getCurrency(s),s))+" ")])])}))],2)])])},c=[],l={props:["rates"],data(){return{currencies:["RUB","USD","EUR"]}},computed:{base(){return this.$store.getters.info.bill/(this.rates["RUB"]/this.rates["EUR"])}},methods:{getCurrency(t){return Math.floor(this.base*this.rates[t])}}},i=l,o=s(1001),u=(0,o.Z)(i,n,c,!1,null,null,null),d=u.exports,_=function(){var t=this,e=t._self._c;return e("div",{staticClass:"col s12 m6 l8"},[e("div",{staticClass:"card orange darken-3 bill-card"},[e("div",{staticClass:"card-content white-text"},[e("div",{staticClass:"card-header"},[e("span",{staticClass:"card-title"},[t._v(t._s(t._f("localize")("Exchange_rate")))])]),e("table",[e("thead",[e("tr",[e("th",[t._v(t._s(t._f("localize")("Currency")))]),e("th",[t._v(t._s(t._f("localize")("Course")))]),e("th",[t._v(t._s(t._f("localize")("Date")))])])]),e("tbody",t._l(t.currencies,(function(s){return e("tr",{key:s},[e("td",[t._v(t._s(s))]),e("td",[t._v(t._s(t.rates[s].toFixed(5)))]),e("td",[t._v(t._s(t._f("date")(t.date,"date")))])])})),0)])])])])},h=[],f={name:"home-currency",props:["rates","date"],data(){return{currencies:["RUB","USD","EUR"]}}},v=f,C=(0,o.Z)(v,_,h,!1,null,null,null),m=C.exports,p=s(3260),y={name:"HomeView",components:{HomeBillComponent:d,HomeCurrencyComponent:m,LoaderComponent:p.Z},metaInfo(){return{title:this.$title("Menu_Bill")}},data(){return{loading:!0,currency:null}},async mounted(){this.currency=await this.$store.dispatch("fetchCurrency"),console.log(this.currency),this.loading=!1},methods:{async refresh(){this.loading=!0,this.currency=await this.$store.dispatch("fetchCurrency"),this.loading=!1}}},b=y,g=(0,o.Z)(b,r,a,!1,null,null,null),w=g.exports}}]);
//# sourceMappingURL=952.c9b17af8.js.map